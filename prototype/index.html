<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>bypeople — Visual Prototype</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>bypeople — Visual Prototype</h1>
      <p class="muted">Signup flow + portfolio uploader (mock)</p>
    </header>

    <main>
      <section class="card">
        <h2>Signup</h2>
        <form id="signup-form">
          <label>Email<input type="email" id="email" placeholder="you@company.com" required></label>
          <label>Password<input type="password" id="password" placeholder="••••••••" required></label>
          <button type="submit">Create account</button>
          <div id="signup-result" class="result"></div>
        </form>
      </section>

      <section class="card">
        <h2>Portfolio Uploader</h2>
        <div id="uploader" class="uploader" tabindex="0">
          <p>Drag & drop files here, or click to select</p>
          <input id="file-input" type="file" accept="image/*" multiple />
        </div>
        <div id="thumbs" class="thumbs"></div>
        <button id="upload-btn" class="primary">Simulate upload</button>
        <div id="upload-result" class="result"></div>
      </section>

      <section class="card">
        <h2>Notes</h2>
        <ul>
          <li>This is a static prototype to review UI and flows.</li>
          <li>No real network requests — uploader simulates success locally.</li>
          <li>To view: open prototype/index.html in a browser or enable GitHub Pages for this branch.</li>
        </ul>
      </section>
    </main>

    <footer>
      <small>Prototype generated by Copilot — you can edit components in prototype/</small>
    </footer>
  </div>

  <script>
    // Signup simulation
    document.getElementById('signup-form').addEventListener('submit', function(e){
      e.preventDefault();
      const email = document.getElementById('email').value;
      const el = document.getElementById('signup-result');
      el.textContent = 'Creating account for ' + email + '...';
      el.className = 'result loading';
      setTimeout(()=>{
        el.className = 'result success';
        el.textContent = 'Account created (mock) — welcome, ' + email + '!';
      }, 900);
    });

    // Uploader UI
    const input = document.getElementById('file-input');
    const uploader = document.getElementById('uploader');
    const thumbs = document.getElementById('thumbs');
    let files = [];

    uploader.addEventListener('click', ()=> input.click());
    uploader.addEventListener('dragover', (e)=>{ e.preventDefault(); uploader.classList.add('dragover'); });
    uploader.addEventListener('dragleave', ()=> uploader.classList.remove('dragover'));
    uploader.addEventListener('drop', (e)=>{
      e.preventDefault(); uploader.classList.remove('dragover');
      const dt = e.dataTransfer; if(!dt) return;
      handleFiles(Array.from(dt.files));
    });

    input.addEventListener('change', (e)=> handleFiles(Array.from(e.target.files)));

    function handleFiles(list){
      list.forEach(f=>{
        if(!f.type.startsWith('image/')) return;
        files.push(f);
        const reader = new FileReader();
        const el = document.createElement('div'); el.className='thumb';
        reader.onload = (ev)=>{
          el.innerHTML = `<img src="${ev.target.result}" alt="preview" />`;
        };
        reader.readAsDataURL(f);
        thumbs.appendChild(el);
      });
    }

    document.getElementById('upload-btn').addEventListener('click', ()=>{
      const out = document.getElementById('upload-result');
      if(files.length===0){ out.className='result error'; out.textContent = 'No files selected.'; return; }
      out.className='result loading'; out.textContent='Uploading ' + files.length + ' file(s)...';
      setTimeout(()=>{ out.className='result success'; out.textContent='Upload complete (mock) — files saved to your portfolio.'; files = []; thumbs.innerHTML=''; document.getElementById('file-input').value=''; }, 1200);
    });
  </script>
</body>
</html>
